# 2.3.1基本概念
## 临界资源
一次只能为一个进程所用的资源称为临界资源。很多物理设备都是临界资源，如打印机；许多变量、数据被若干进程共享，也是临界资源。

对于临界资源的访问必须互斥的进行
- 进入区：相当于上锁，设置正在访问临界区的标志
- 临界区：实际访问临界资源的代码，也称临界段
- 退出区：相当于解锁，将正在访问临界区的标志清除
- 剩余区：代码的其余部分
![[Pasted image 20250411222346.png

同步也称*直接制约关系*，互斥也称*间接制约关系*

实现临界区互斥的准则（为了禁止两个进程同时进入临界区）：
- 空闲让进。临界区空闲时，可以允许一个请求进入临界区的进程立即进入临界区。
- 忙则等待。当已有进程进入临界区时，其他试图进入临界区的进程必须等待。
- 有限等待。对请求访问的进程，应保证能在有限时间内进入临界区，防止进程无限等待。
- 让权等待(原则上应该遵循，但非必须)。当进程不能进入临界区时，应立即释放处理器,防止进程忙等待。

# 2.3.2进程互斥的基本方法

## 软件实现方法
### 单标志法
算法思想：两个进程在访问完临界区后会把使用临界区的权限转交给另一个进程。
也就是说每个进程进入临界区的权限只能被另一个进程赋予 
```c
int turn = 0;    //turn背后的逻辑是表示谦让
// 进程 P0
while (turn != 0); // 进入区
critical_section;   // 临界区
turn = 1;           // 退出区
remainder_section;  // 剩余区

// 进程 P1
while (turn != 1);  // 进入区
critical_section;   // 临界区
turn = 0;           // 退出区
remainder_section;  // 剩余区
```
### 双标志先检查法
### 双标志后检查法
### Peterson算法